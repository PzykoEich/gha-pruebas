name: Roll a die
on:
  workflow_dispatch:
    inputs:
      dice-number:
        type: choice
        options:
          - one
          - two
        default: two
        description: number of dice
jobs:
  roll-die:
    outputs:
      dice1: ${{ steps.dice1.outputs.dice1 }}
      dice2: ${{ steps.dice2.outputs.dice2 }}
    runs-on: ubuntu-latest
    steps:
      - name: So many dice? 
        run: echo "there's ${{ inputs.dice-number }} dice"
      - name: generate dice one
        id: dice1
        run: echo "dice1=$((1 + RANDOM % 6))" >> "$GITHUB_OUTPUT"
      - name: generate dice two
        if: ${{ inputs.dice-number == 'two' }}
        id: dice2
        run: echo "dice2=$((1 + RANDOM % 6))" >> "$GITHUB_OUTPUT"

  show-result:
    needs:
        roll-die
    runs-on: ubuntu-latest
    steps:
      - name: Write result 
        run: |
          echo "# ðŸŽ² Game Die: Result: " >> $GITHUB_STEP_SUMMARY
          echo dice1: ${{needs.roll-die.outputs.dice1}} >> $GITHUB_STEP_SUMMARY
      - name: something like before 
        if: ${{ inputs.dice-number == 'two' }}
        run: |
          echo dice2: ${{needs.roll-die.outputs.dice2}} >> $GITHUB_STEP_SUMMARY

